<div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">

</div>

<div id="kt_app_content" class="app-content flex-column-fluid">
    <div id="kt_app_content_container" class="app-container container-xxl">
        <app-basic-info-team></app-basic-info-team>
        <p *ngIf="isChangeSucess == true" class="alert alert-success">Atualiza√ß√£o realizada com sucesso ü§òüèº</p>
        <div class="alert alert-danger" *ngIf="errors.length > 0">
            <h3 id="msgRetorno">Opa! Alguma coisa n√£o deu certo:</h3>
            <ul>
                <li *ngFor="let error of errors">{{ error }}</li>
            </ul>
        </div>

        <!--begin::Basic info-->
        <div class="card mb-5 mb-xl-10">

            <!--begin::Card header-->
            <div class="card-header border-0 cursor-pointer">
                <!--begin::Card title-->
                <div class="card-title m-0">
                    <h3 class="fw-bold m-0">Detalhes do Time</h3>
                </div>
                <!--end::Card title-->
            </div>
            <!--begin::Card header-->
            <!--begin::Content-->
            <div id="kt_account_settings_profile_details" class="collapse show">

                <!--begin::Form-->
                <form (ngSubmit)="updateTeam()" [formGroup]="updateTeamForm" #formDir="ngForm" class="form">
                    <!--begin::Card body-->
                    <div class="card-body border-top p-9">
                        <!--begin::Input group-->
                        <div class="row mb-6">
                            <!--begin::Label-->
                            <label class="col-lg-4 col-form-label fw-semibold fs-6">Avatar</label>
                            <!--end::Label-->
                            <!--begin::Col-->
                            <div class="col-lg-8">
                                <!--begin::Image input-->
                                <div class="image-input image-input-outline">
                                    <!--begin::Preview existing avatar-->
                                    <div class=" w-125px h-125px mb-3">
                                        <img class="image-input-wrapper w-125px h-125px " [src]="this.url"
                                            alt="image" />

                                    </div>



                                    <p class="btn btn-primary" (click)="modal.toggle()">Alterar Avatar</p>



                                    <!-- <input type="file" (change)="onselectFile($event)"> -->
                                    <!--end::Preview existing avatar-->
                                </div>
                                <!--end::Image input-->

                            </div>

                            <!--end::Col-->
                        </div>



                        <!--begin::Input group-->
                        <div class="row mb-6">

                            <!--begin::Label-->
                            <label class="col-lg-4 col-form-label required fw-semibold fs-6">Nome</label>
                            <!--end::Label-->
                            <!--begin::Col-->
                            <div class="col-lg-8 fv-row">
                                <input type="text" formControlName="name" name="name" id="name"
                                    class="form-control form-control-lg form-control-solid" placeholder="Nome" />
                                <div *ngIf="name.invalid && formDir.submitted">
                                    <p class="text-danger">Nome √© obrigat√≥rio</p>
                                </div>
                            </div>
                            <!--end::Col-->
                        </div>
                        <!--end::Input group-->

                        <!--begin::Input group-->
                        <div class="row mb-6">

                            <!--begin::Label-->
                            <label class="col-lg-4 col-form-label required fw-semibold fs-6">tagName</label>
                            <!--end::Label-->
                            <!--begin::Col-->
                            <div class="col-lg-8 fv-row">
                                <input type="text" formControlName="tagName" name="tagName" id="tagName"
                                    class="form-control form-control-lg form-control-solid" placeholder="tagName" />
                                <div *ngIf="tagName.invalid && formDir.submitted">
                                    <p class="text-danger">tagName √© obrigat√≥rio</p>
                                </div>
                            </div>
                            <!--end::Col-->
                        </div>
                        <!--end::Input group-->

                        <!--begin::Input group-->
                        <div class="row mb-6">

                            <!--begin::Label-->
                            <label class="col-lg-4 col-form-label fw-semibold fs-6">Descri√ß√£o</label>
                            <!--end::Label-->
                            <!--begin::Col-->
                            <div class="col-lg-8 fv-row">
                                <textarea class="form-control bg-transparent" placeholder="Descri√ß√£o do time"
                                    name="description" id="description" formControlName="description" cols="30"
                                    rows="5"></textarea>

                            </div>
                            <!--end::Col-->
                        </div>
                        <!--end::Input group-->

                        <!--begin::Input group-->
                        <div class="row mb-6">

                            <!--begin::Label-->
                            <label class="col-lg-4 col-form-label fw-semibold fs-6">Instagram</label>
                            <!--end::Label-->
                            <!--begin::Col-->
                            <div class="col-lg-8 fv-row">
                                <input type="text" formControlName="instagramTeam" name="instagramTeam"
                                    id="instagramTeam" class="form-control form-control-lg form-control-solid"
                                    placeholder="Instagram" />

                            </div>
                            <!--end::Col-->
                        </div>
                        <!--end::Input group-->

                        <!--begin::Input group-->
                        <div class="row mb-6">

                            <!--begin::Label-->
                            <label class="col-lg-4 col-form-label fw-semibold fs-6">Discord</label>
                            <!--end::Label-->
                            <!--begin::Col-->
                            <div class="col-lg-8 fv-row">
                                <input type="text" formControlName="discordTeam" name="discordTeam" id="discordTeam"
                                    class="form-control form-control-lg form-control-solid" placeholder="Discord" />

                            </div>
                            <!--end::Col-->
                        </div>
                        <!--end::Input group-->

                        <!--begin::Input group-->
                        <div class="row mb-6">

                            <!--begin::Label-->
                            <label class="col-lg-4 col-form-label fw-semibold fs-6">E-mail</label>
                            <!--end::Label-->
                            <!--begin::Col-->
                            <div class="col-lg-8 fv-row">
                                <input type="email" formControlName="emailTeam" name="emailTeam" id="emailTeam"
                                    class="form-control form-control-lg form-control-solid" placeholder="Email" />

                            </div>
                            <!--end::Col-->
                        </div>
                        <!--end::Input group-->

                        <!--begin::Input group-->
                        <div class="row mb-6">

                            <!--begin::Label-->
                            <label class="col-lg-4 col-form-label fw-semibold fs-6">Facebook</label>
                            <!--end::Label-->
                            <!--begin::Col-->
                            <div class="col-lg-8 fv-row">
                                <input type="text" formControlName="facebookTeam" name="facebookTeam" id="facebookTeam"
                                    class="form-control form-control-lg form-control-solid" placeholder="Facebook" />

                            </div>
                            <!--end::Col-->
                        </div>
                        <!--end::Input group-->

                        <!--begin::Input group-->
                        <div class="row mb-6">

                            <!--begin::Label-->
                            <label class="col-lg-4 col-form-label fw-semibold fs-6">YouTube</label>
                            <!--end::Label-->
                            <!--begin::Col-->
                            <div class="col-lg-8 fv-row">
                                <input type="text" formControlName="youtubeTeam" name="youtubeTeam" id="youtubeTeam"
                                    class="form-control form-control-lg form-control-solid" placeholder="YouTube" />

                            </div>
                            <!--end::Col-->
                        </div>
                        <!--end::Input group-->

                        <!--begin::Input group-->
                        <div class="row mb-6">
                            <!--begin::Label-->
                            <label class="col-lg-4 col-form-label required fw-semibold fs-6">Tipo</label>
                            <div *ngIf="private.invalid && formDir.submitted">
                                <p class="text-danger">Tipo √© obrigat√≥rio</p>
                            </div>
                            <!--end::Label-->
                            <!--begin::Col-->
                            <div class="col-lg-8">
                                <!--begin::Row-->
                                <div class="row ">
                                    <!--begin::Col-->
                                    <div class="col-lg-6 fv-row">
                                        <div class="form-check form-check-custom form-check-solid ">
                                            <!--begin::Input-->
                                            <input class="form-check-input me-3" formControlName="private" id="true"
                                                type="radio" value="true" />
                                            <!--end::Input-->

                                            <!--begin::Label-->
                                            <label class="form-check-label" for="kt_docs_formvalidation_radio_option_1">
                                                <div class="fw-semibold text-gray-800">Privado</div>
                                            </label>
                                            <!--end::Label-->
                                        </div>
                                        <!--end::Radio-->
                                    </div>
                                    <!--end::Col-->
                                    <!--begin::Col-->
                                    <div class="col-lg-6 fv-row">
                                        <!--begin::Radio-->
                                        <div class="form-check form-check-custom form-check-solid ">
                                            <!--begin::Input-->
                                            <input class="form-check-input me-3" formControlName="private" id="false"
                                                type="radio" value="false" />
                                            <!--end::Input-->

                                            <!--begin::Label-->
                                            <label class="form-check-label">
                                                <div class="fw-semibold text-gray-800">P√∫blico</div>
                                            </label>
                                            <!--end::Label-->
                                        </div>
                                        <!--end::Radio-->
                                    </div>
                                    <!--end::Col-->
                                </div>
                                <!--end::Row-->
                            </div>
                            <!--end::Col-->
                        </div>
                        <!--end::Input group-->



                    </div>
                    <!--end::Card body-->
                    <!--begin::Actions-->
                    <div class="card-footer d-flex justify-content-end py-6 px-9">
                        <!-- <button type="reset" class="btn btn-light btn-active-light-primary me-2">Cancelar</button> -->
                        <button type="submit"
                            [disabled]="!updateTeamForm.valid || (this.updateTeamForm.touched == false)"
                            class="btn btn-primary">Atualizar dados</button>
                    </div>
                    <!--end::Actions-->
                </form>
                <!--end::Form-->
            </div>
            <!--end::Content-->

        </div>
        <!--end::Basic info-->
    </div>
</div>

<div *ngIf="isLoading == true">
    <app-loading></app-loading>
</div>



<app-modal-upload-profile-img #modal>
 <!--begin::Modal body-->
 <div class="modal-body scroll-y mx-5 mx-xl-18 pt-0 pb-15">
    <div *ngIf="isChangeProfile == true" class="d-flex align-items-center bg-light-success rounded p-5 mb-7">
      <!--begin::Svg Icon | path: icons/duotune/abstract/abs027.svg-->
      <span class="svg-icon svg-icon-success svg-icon-1 me-5">
        <svg width="67" height="67" viewBox="0 0 67 67" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path opacity="0.25" d="M8.375 11.167C8.375 6.54161 12.1246 2.79199 16.75 2.79199H43.9893C46.2105 2.79199 48.3407 3.67436 49.9113 5.24497L56.172 11.5057C57.7426 13.0763 58.625 15.2065 58.625 17.4277V55.8337C58.625 60.459 54.8754 64.2087 50.25 64.2087H16.75C12.1246 64.2087 8.375 60.459 8.375 55.8337V11.167Z" fill="#00A3FF"></path>
          <path d="M41.875 5.28162C41.875 3.90663 42.9896 2.79199 44.3646 2.79199V2.79199C46.3455 2.79199 48.2452 3.57889 49.6459 4.97957L56.4374 11.7711C57.8381 13.1718 58.625 15.0715 58.625 17.0524V17.0524C58.625 18.4274 57.5104 19.542 56.1354 19.542H44.6667C43.1249 19.542 41.875 18.2921 41.875 16.7503V5.28162Z" fill="#00A3FF"></path>
          <path d="M32.4311 25.3368C32.1018 25.4731 31.7933 25.675 31.5257 25.9427L23.1507 34.3177C22.0605 35.4079 22.0605 37.1755 23.1507 38.2657C24.2409 39.3559 26.0085 39.3559 27.0987 38.2657L30.708 34.6563V47.4583C30.708 49.0001 31.9579 50.25 33.4997 50.25C35.0415 50.25 36.2913 49.0001 36.2913 47.4583V34.6563L39.9007 38.2657C40.9909 39.3559 42.7585 39.3559 43.8487 38.2657C44.9389 37.1755 44.9389 35.4079 43.8487 34.3177L35.4737 25.9427C34.6511 25.1201 33.443 24.9182 32.4311 25.3368Z" fill="#00A3FF"></path>
        </svg>
      </span>
      <!--end::Svg Icon-->
      <!--begin::Title-->
      <div class="flex-grow-1 me-2">
        <a  class="fw-bold text-gray-800 text-hover-primary fs-6">Foto do time atualizada com sucesso</a>
      </div>
      <!--end::Title-->
    
    </div>
    <!--begin::Heading-->
    <div class="text-center mb-13">
      <!--begin::Title-->
      <h1 class="mb-3">Altere a foto do seu time</h1>
      <!--end::Title-->
      <!--begin::Description-->
      <div class="text-muted fw-semibold fs-5">Selecione a foto que voce deseja
      </div>
      <!--end::Description-->
    </div>
    <!--end::Heading-->
    <!--begin::Users-->
    <div class="modal-center">
      <div class="image-input image-input-outline">
        <!--begin::Preview existing avatar-->
        <div class=" w-125px h-125px ">
          <img class="image-input-wrapper w-125px h-125px" [src]="this.url" alt="image" />

        </div>
        <!-- <input type="file" (change)="onselectFile($event)"> -->
        <!--end::Preview existing avatar-->
      </div>
      <label class="label">
        <input type="file" (change)="onselectFile($event)" />
        <span>Selecione sua foto</span>
      </label>
      <p class="btn btn-primary" *ngIf="isChangeImg == true" (click)="changeImg()"> Alterar</p>
      <p class="btn btn-danger" (click)="modal.toggle()"> Cancelar</p>
    </div>
    <!--end::Users-->


  </div>
  <!--end::Modal body-->
</app-modal-upload-profile-img>